<!doctype html>
<!-- The DOCTYPE declaration above will set the    -->
<!-- browser's rendering engine into               -->
<!-- "Standards Mode". Replacing this declaration  -->
<!-- with a "Quirks Mode" doctype may lead to some -->
<!-- differences in layout.                        -->

<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- meta name="google-signin-client_id" content="631292106887-h50e6p0p43fvl60vjk1mcq818n5phl7h.apps.googleusercontent.com"-->

<!-- BootStrap start -->
<title>WIRA</title>
<!-- link rel="icon" type="image/png" href="img/briefcase_document.ico"-->
<link rel="icon" type="image/png" href="img/favicon.ico">

<!-- Consider inlining CSS to reduce the number of requested files -->
<!--                                                               -->
<link type="text/css" rel="stylesheet" href="index.css" />
<link type="text/css" rel="stylesheet" href="css/standard.css" />
<link type="text/css" rel="stylesheet" href="css/Autocomplete.css" />
<link type="text/css" rel="stylesheet" href="css/ChatBox.css" />
<link type="text/css" rel="stylesheet" href="css/CarouselPopup.css" />
<link type="text/css" rel="stylesheet" href="css/profilePage.css" />
<link type="text/css" rel="stylesheet" href="css/dashboard.css" />
<link type="text/css" rel="stylesheet" href="css/card.css" />
<link type="text/css" rel="stylesheet" href="css/dashboard-stats.css" />

<!-- bootstrap -->
<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/select2.css" rel="stylesheet">
<link href="css/google/google-bootstrap.css" rel="stylesheet">

<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet">

<!-- libraries -->
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link href="css/font-awesome/css/font-awesome.css" type="text/css"
	rel="stylesheet">


<!--Admin Fonts  -->
<link rel="stylesheet" type="text/css"
	href="css/admin_css/admin_layout.css">
<link rel="stylesheet" type="text/css"
	href="css/admin_css/stilearn-helper.css">
	
<!-- global styles -->
<link rel="stylesheet" type="text/css" href="css/layout.css">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/icons.css">
<link rel="stylesheet" type="text/css" href="css/Upload.css">


<!-- Bootstrap end -->

<!-- this page specific styles -->
<link rel="stylesheet" type="text/css" href="css/compiled/signin.css">
<!-- <link rel="stylesheet" type="text/css" href="css/compiled/index.css"> -->

<!--                                           -->
<!-- This script loads your compiled module.   -->
<!-- If you add any GWT meta tags, they must   -->
<!-- be added before this line.                -->
<!--                                           -->
<!-- script type="text/javascript" src="js/jquery/jquery-latest.js"></script -->
<!-- script type="text/javascript" src="js/jquery.flot.js"></script -->
<!--[if lte IE 8]>
			<script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script>
		<![endif]-->
<script src="js/jquery.js"></script>
<script src="js/moment.js" type="text/javascript"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script src="js/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<!-- script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script -->
<script type="text/javascript">

function refreshAuthState(parentEl){
	
	if(typeof auth2!=="undefined"){
	 var val = auth2.isSignedIn.get();
	 var userEl = $(parentEl).find("#logged-in-user").get(0);
	 if(val){
		 $(userEl).prop('title','Google Login');
		 $(userEl).css("color","green");
	 }else{
		 $(userEl).prop('title','');
		 $(userEl).css("color","#333333");
	 }
	}
}

function logoutOauth(){
	if(typeof auth2!=="undefined"){
		auth2.disconnect();	
	}
}


function start() {
	
	gapi.load('auth2', function() {
	    auth2 = gapi.auth2.init({
	      client_id: "631292106887-h50e6p0p43fvl60vjk1mcq818n5phl7h.apps.googleusercontent.com",
	      // Scopes to request in addition to 'profile' and 'email'
	      //scope: 'additional_scope'
	    });
	    
	 // Listen for sign-in state changes.
	    auth2.isSignedIn.listen(signinChanged);

	    // Listen for changes to current user.
	    auth2.currentUser.listen(userChanged);

	    // Sign in the user if they are currently signed in.
	    if (auth2.isSignedIn.get() == true) {
	     // auth2.signIn();
	    }

	    // Start with the current live values.
	    refreshValues();
	  });
}

/**
 * Listener method for sign-out live value.
 *
 * @param {boolean} val the updated signed out state.
 */
var signinChanged = function (val) {
	 var userEl = $("#logged-in-user").get(0);
	 if(val){
		 $(userEl).prop('title','Google Login');
		 $(userEl).css("color","green");
	 }else{
		 $(userEl).prop('title','');
		 $(userEl).css("color","#333333");
	 }
	 
	// alert('signinChangedEvent says Signed = '+val +" = "+auth2.isSignedIn.get());
};

/**
 * Listener method for when the user changes.
 *
 * @param {GoogleUser} user the updated user.
 */
var userChanged = function (user) {
  googleUser = user;
  updateGoogleUser();
};

/**
 * Updates the properties in the Google User table using the current user.
 */
var updateGoogleUser = function () {
  
  if (googleUser) {
    var id_token=googleUser.getAuthResponse().id_token;
    //signInCallback(id_token, 'auth2tokencallback');
	 

  } else {
	  //logged out
  }
};

/**
 * Retrieves the current user and signed in states from the GoogleAuth
 * object.
 */
var refreshValues = function() {
  if (auth2){
    googleUser = auth2.currentUser.get();
    updateGoogleUser();
  }
}

</script>

<style type="text/css">
#progressbar{
	margin: 10px; width: 400px; height: 15px; border: 2px solid black; overflow: hidden; border-radius: 10px;
}

@media (max-width: 767px){
#progressbar{
	margin: 10px; width: 350px; height: 15px; border: 2px solid black; overflow: hidden; border-radius: 10px;
}
}
</style>
</head>

<!--                                           -->
<!-- The body can have arbitrary html, or      -->
<!-- you can leave the body empty if you want  -->
<!-- to create a completely dynamic UI.        -->
<!--                                           -->

<body>
	<!-- div id="loading" style="display: none" -->
	<div id="loading"
		style="display: inline-block; position: fixed; top: 0; bottom: 0; left: 0; right: 0; margin: auto; width: 350px; height: 100px;">
		<div style="margin: auto; width: 400px;">
			<h2 style="text-align: center; padding-bottom: 9px;">WIRA
				Workflow</h2>
		</div>
		<div
			style="font-size: 13px; margin: auto; width: 400px; text-align: center;">Please
			wait as the system loads...</div>
		<div id="progressbar"
			style="">
			<div id="progress"
				style="background: #2299dd; height: 100%; width: 0;"></div>
			<script type="text/javascript">
				var loading = document.getElementById('loading');
				var progress = document.getElementById('progress');
				var progressbar = document.getElementById('progressbar');
				function updateProgress() {
					if (loading.style.display !== 'none') {
						var width = parseInt(progress.offsetWidth
								+ ((progressbar.offsetWidth - progress.offsetWidth) * .15));
						if (width > (progressbar.offsetWidth * .95)) {
							width = width + ((100 - width) * .5);
						}
						progress.style.width = width + 'px';
						window.setTimeout("updateProgress()", 1000);
					}
				}
				document.body.style.margin = 0;
				document.body.style.padding = 0;
				loading.style.display = 'block';
				updateProgress();
			</script>
		</div>
	</div>

	<!-- OPTIONAL: include this if you want history support -->
	<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
		style="position: absolute; width: 0; height: 0; border: 0;"></iframe>

	<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
	<noscript>
		<div
			style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif;">
			Your web browser must have JavaScript enabled in order for this
			application to display correctly.</div>
	</noscript>
	<script type="text/javascript" language="javascript"
		src="gwtht/gwtht.nocache.js"></script>

</body>

<!-- script type="text/javascript">
	var d2 = [ [ 0, 3 ], [ 4, 8 ], [ 8, 5 ], [ 9, 13 ] ];
	$.plot("#placeholder", [ d2 ]);
</script -->
</html>